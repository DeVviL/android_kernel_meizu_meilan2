#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900	
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900	
#endif

#define RBAT_PULL_UP_VOLT          1800



// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
#if (BAT_NTC_10 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,68237},
        {-15,53650},
        {-10,42506},
        { -5,33892},
        {  0,27219},
        {  5,22021},
        { 10,17926},
        { 15,14674},
        { 20,12081},
        { 25,10000},
        { 30,8315},
        { 35,6948},
        { 40,5834},
        { 45,4917},
        { 50,4161},
        { 55,3535},
        { 60,3014}
    };
#endif

#if (BAT_NTC_47 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,483954},
        {-15,360850},
        {-10,271697},
        { -5,206463},
        {  0,158214},
        {  5,122259},
        { 10,95227},
        { 15,74730},
        { 20,59065},
        { 25,47000},
        { 30,37643},
        { 35,30334},
        { 40,24591},
        { 45,20048},
        { 50,16433},
        { 55,13539},
        { 60,11210}        
    };
#endif

// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{0  , 4195 },         
	{5  , 4118 },         
	{11 , 4066 },         
	{16 , 3989 },         
	{21 , 3947 },         
	{26 , 3913 },         
	{32 , 3880 },         
	{37 , 3852 },         
	{42 , 3828 },         
	{48 , 3810 },         
	{53 , 3795 },         
	{58 , 3780 },         
	{64 , 3765 },         
	{69 , 3751 },         
	{74 , 3737 },         
	{79 , 3726 },         
	{85 , 3717 },         
	{90 , 3705 },         
	{93 , 3697 },         
	{95 , 3691 },         
	{97 , 3686 },         
	{98 , 3683 },         
	{99 , 3680 },         
	{100, 3400 }          
               
};      
        
// T1 0C 
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
	{0  , 4191 },      
	{5  , 4126 },      
	{10 , 4085 },      
	{15 , 4023 },      
	{20 , 3968 },      
	{24 , 3937 },      
	{29 , 3904 },      
	{34 , 3875 },      
	{39 , 3849 },      
	{44 , 3827 },      
	{49 , 3808 },      
	{54 , 3795 },      
	{59 , 3784 },      
	{64 , 3773 },      
	{68 , 3760 },      
	{73 , 3744 },      
	{78 , 3727 },      
	{83 , 3714 },      
	{88 , 3704 },      
	{93 , 3685 },      
	{97 , 3643 },      
	{98 , 3623 },      
	{99 , 3607 },      
	{100, 3400 }       
          
};           

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	{0  , 4198 },         
	{5  , 4142 },         
	{9  , 4098 },         
	{14 , 4059 },         
	{19 , 4016 },         
	{24 , 3983 },         
	{28 , 3953 },         
	{33 , 3922 },         
	{38 , 3886 },         
	{43 , 3855 },         
	{47 , 3832 },         
	{52 , 3813 },         
	{57 , 3799 },         
	{62 , 3788 },         
	{66 , 3779 },         
	{71 , 3772 },         
	{76 , 3762 },         
	{81 , 3745 },         
	{85 , 3718 },         
	{90 , 3692 },         
	{95 , 3679 },         
	{100, 3438 },         
	{100, 3400 },         
	{100, 3400 }          
		       
};     

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
	{0  , 4182 },         
	{5  , 4129 },         
	{10 , 4085 },         
	{14 , 4045 },         
	{19 , 4007 },         
	{24 , 3973 },         
	{29 , 3943 },         
	{34 , 3914 },         
	{38 , 3886 },         
	{43 , 3852 },         
	{48 , 3825 },         
	{53 , 3807 },         
	{58 , 3793 },         
	{62 , 3781 },         
	{67 , 3772 },         
	{72 , 3761 },         
	{77 , 3745 },         
	{81 , 3726 },         
	{86 , 3699 },         
	{91 , 3676 },         
	{96 , 3655 },         
	{100, 3400 },         
	{100, 3400 },         
	{100, 3400 }         
		       
};           

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
  {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};    

// ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
	{817  , 4195 },        
	{817  , 4118 },        
	{791  , 4066 },        
	{744  , 3989 },        
	{741  , 3947 },        
	{744  , 3913 },        
	{743  , 3880 },        
	{745  , 3852 },        
	{749  , 3828 },        
	{761  , 3810 },        
	{776  , 3795 },        
	{793  , 3780 },        
	{813  , 3765 },        
	{833  , 3751 },        
	{861  , 3737 },        
	{897  , 3726 },        
	{944  , 3717 },        
	{1000 , 3705 },        
	{998  , 3697 },        
	{992  , 3691 },        
	{987  , 3686 },        
	{984  , 3683 },        
	{982  , 3680 },        
	{701  , 3400 }         
               
};      

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
	{641  , 4191  },         
	{641  , 4126  },         
	{626  , 4085  },         
	{597  , 4023  },         
	{584  , 3968  },         
	{585  , 3937  },         
	{582  , 3904  },         
	{583  , 3875  },         
	{587  , 3849  },         
	{594  , 3827  },         
	{602  , 3808  },         
	{617  , 3795  },         
	{635  , 3784  },         
	{653  , 3773  },         
	{669  , 3760  },         
	{681  , 3744  },         
	{698  , 3727  },         
	{732  , 3714  },         
	{790  , 3704  },         
	{874  , 3685  },         
	{943  , 3643  },         
	{925  , 3623  },         
	{910  , 3607  },         
	{702  , 3400  }          
               
};     

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
		{199  , 4198  },       
		{199  , 4142  },       
		{205  , 4098  },       
		{215  , 4059  },       
		{218  , 4016  },       
		{223  , 3983  },       
		{226  , 3953  },       
		{226  , 3922  },       
		{219  , 3886  },       
		{213  , 3855  },       
		{213  , 3832  },       
		{217  , 3813  },       
		{221  , 3799  },       
		{226  , 3788  },       
		{231  , 3779  },       
		{235  , 3772  },       
		{236  , 3762  },       
		{236  , 3745  },       
		{236  , 3718  },       
		{236  , 3692  },       
		{271  , 3679  },       
		{289  , 3438  },       
		{289  , 3400  },       
		{289  , 3400  }        
	       	      
}; 

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
	{180  , 4182  },        
	{180  , 4129  },        
	{184  , 4085  },        
	{189  , 4045  },        
	{193  , 4007  },        
	{198  , 3973  },        
	{202  , 3943  },        
	{203  , 3914  },        
	{201  , 3886  },        
	{192  , 3852  },        
	{186  , 3825  },        
	{188  , 3807  },        
	{193  , 3793  },        
	{197  , 3781  },        
	{200  , 3772  },        
	{200  , 3761  },        
	{196  , 3745  },        
	{197  , 3726  },        
	{197  , 3699  },        
	{195  , 3676  },        
	{215  , 3655  },        
	{215  , 3400  },        
	{215  , 3400  },        
	{215  , 3400  }         
      
}; 

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
  {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};    

// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H

